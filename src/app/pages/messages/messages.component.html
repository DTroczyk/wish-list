<div class="chat-container container">
  <div class="row chat-row">
    <div class="channels col-sm-3 container">
      <div class="channels-column-title row">
        <div class="title" (click)="isChannelsHidden = !isChannelsHidden">
          Channels
          <span class="small">
            <mat-icon>
              {{
                isChannelsHidden ? "keyboard_arrow_down" : "keyboard_arrow_up"
              }}
            </mat-icon>
          </span>
        </div>
      </div>
      <div class="channels-column-textbox row">
        <div class="col-sm large">
          <input class="channels-textbox-input" type="text" />
          <button mat-mini-fab class="channels-textbox-button">
            <mat-icon>search</mat-icon>
          </button>
        </div>
      </div>
      <div
        class="channels-column-content row"
        [ngClass]="isChannelsHidden ? '' : 'visible'"
      >
        <ng-container *ngIf="isChatsLoading">
          <div
            *ngFor="let chat of chats"
            class="channel"
            (click)="selectChannel(chat)"
          >
            <div class="channel-title">{{ chat.name }}</div>
            <p class="channel-last-message">
              {{ chat.messages[chat.messages.length - 1]?.text }}
            </p>
          </div>
        </ng-container>
      </div>
    </div>
    <div class="chat col-sm-9 container">
      <div class="messages-container" *ngIf="selectedChannel">
        <div class="row chat-column-title">
          <div class="title">{{ selectedChannel.name }}</div>
        </div>
        <div class="row chat-column-content">
          <div
            class="message"
            *ngFor="let message of selectedChannel.messages"
            [class.owner]="
              message.author.toLowerCase() === ownerLogin.toLowerCase()
            "
          >
            <div class="message-text">
              {{ message.text }}
            </div>
          </div>
        </div>
        <div class="chat-column-textbox row">
          <div class="col-sm">
            <form (submit)="sendMessage()">
              <textarea
                class="chat-textbox-input"
                type="text"
                [(ngModel)]="messageText"
                name="messageText"
              ></textarea>
              <button mat-mini-fab class="chat-textbox-button">
                <mat-icon>send</mat-icon>
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
